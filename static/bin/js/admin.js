!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){var b,c,d,e,f,g;g=a("./utils.coffee"),b=$("#logout"),b.click(function(){var a;return a=g.ajax({type:"post",url:"/admin_logout"}),a.success(function(){return window.location.reload()}),a.error(function(a){return alert("退出失败："+g.getError(a))})}),e=$("button.update-profile:eq(0)"),f=$("form.profile-update:eq(0)"),e.click(function(a){var b,c;return a.preventDefault(),b=f.serializeObject(),c=g.ajax({type:"post",url:"/update_admin_profile",data:b}),c.success(function(a){var b,c,d;d=a.data;for(b in d)c=d[b],f.find("input[name="+b+"]").val(c);return alert("OK!")}),c.error(function(a){return alert("修改失败："+g.getError(a))})}),c=$("button.update-password:eq(0)"),d=$("form.password-update:eq(0)"),c.click(function(a){var b,c;return a.preventDefault(),b=d.serializeObject(),c=g.ajax({type:"put",url:"/update_admin_password",data:b}),c.success(function(){return d.find("input").val(""),alert("OK!")}),c.error(function(a){return alert("修改失败："+g.getError(a))})}),$(".delete-post").click(function(a){var c,d;if(confirm("Sure for deleting?"))return b=$(a.target),c={id:b.data("post-id")},d=g.ajax({type:"delete",url:"/delete_post",data:c}),d.success(function(){return b.parent("li").remove()}),d.error(function(a){return alert("删除失败："+getError(a))})})},{"./utils.coffee":2}],2:[function(a,b){var c;c={},$.fn.serializeObject=function(){var a,b;return b={},a=this.serializeArray(),$.each(a,function(){return b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""}),b},c.ajax=function(a){return a.data&&(a.data=JSON.stringify(a.data),a.contentType="application/json"),$.ajax(a)},c.getError=function(a){return a.responseJSON.error[0]},c.parseTagsStr=function(a){return a?a.replace(/[;；]$/,"").split(/[;；]/g):[]},c.shake=function(a){var b,c,d;return"static"===a.css("position")&&a.css("position","relative"),a.focus(),c=80,b=0,a.isRunning?void 0:(a.isRunning=!0,(d=function(){var e;return b++,e=5,3===b?void(a.isRunning=!1):a.animate({left:"-="+e+"px"},c,function(){return a.animate({left:"+="+2*e+"px"},c,function(){return a.animate({left:"-="+e+"px"},c,d)})})})())},b.exports=c},{}]},{},[1]);